<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.140.0"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>langhaidian</title>
<meta name=keywords content="Blog,Portfolio,PaperMod"><meta name=description content="ExampleSite description"><meta name=author content="Me"><link rel=canonical href=https://examplesite.com/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://examplesite.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://examplesite.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://examplesite.com/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://examplesite.com/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://examplesite.com/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://examplesite.com/index.xml><link rel=alternate hreflang=en href=https://examplesite.com/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://examplesite.com/"><meta property="og:site_name" content="langhaidian"><meta property="og:title" content="langhaidian"><meta property="og:description" content="ExampleSite description"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://examplesite.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://examplesite.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="langhaidian"><meta name=twitter:description content="ExampleSite description"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"langhaidian","url":"https://examplesite.com/","description":"ExampleSite description","logo":"https://examplesite.com/%3Clink%20/%20abs%20url%3E","sameAs":["https://www.instagram.com/langhaidian/","https://github.com/langhaidian/"]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://examplesite.com/ accesskey=h title="Home (Alt + H)"><img src=https://examplesite.com/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://examplesite.com/archives/ title=å½’æ¡£><span>å½’æ¡£</span></a></li><li><a href=https://examplesite.com/tags/ title=æ ‡ç­¾><span>æ ‡ç­¾</span></a></li><li><a href=https://examplesite.com/about/ title=å…³äº><span>å…³äº</span></a></li><li><a href=https://langhaidian.github.io/running_page title=running_page><span>running_page</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class="first-entry home-info"><header class=entry-header><h1>Hi there ğŸ‘‹</h1></header><div class=entry-content>Welcome to my blog</div><footer class=entry-footer><div class=social-icons><a href=https://www.instagram.com/langhaidian/ target=_blank rel="noopener noreferrer me" title=Instagram><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37z"/><line x1="17.5" y1="6.5" x2="17.5" y2="6.5"/></svg>
</a><a href=https://github.com/langhaidian/ target=_blank rel="noopener noreferrer me" title=Github><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></div></footer></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>blogå¼€å¯è¯„è®ºæ¨¡å—</h2></header><div class=entry-content><p>Loveitå¼€å¯è¯„è®º loveitè‡ªå¸¦çš„æœ‰Giscusçš„é…ç½®ï¼Œé¦–å…ˆæˆ‘ä»¬é€šè¿‡é…ç½®ä»“åº“æ¥å¼€å¯è¯„è®ºæ¨¡å—
1.åœ¨ä»“åº“ä¸­å¼€å¯è¯„è®ºç³»ç»Ÿ æ‰¾åˆ°Settings -> General -> Features -> Discussions å‹¾é€‰ï¼Œä¸ºä»“åº“å¯åŠ¨ Discussions åŠŸèƒ½ ï¼Œå¦‚ä¸‹å›¾ï¼š 2. ä½¿é…ç½®å¥½çš„ä»“åº“å®‰è£… Giscus ç‚¹å‡»è¿™é‡Œï¼Œæˆ‘ä»¬å°†ä¼šçœ‹åˆ°ä¸‹é¢çš„ç•Œé¢ï¼Œæˆ‘ä»¬ç‚¹å‡»å®‰è£… ç‚¹å‡»å®‰è£…åï¼Œè¦é€‰æ‹©ä¸€ä¸ªä»“åº“ï¼Œå¦‚ä¸‹å›¾ï¼Œé€‰æ‹©æˆ‘ä»¬ä¹‹å‰åˆ›é€ çš„ä»“åº“å³å¯ 3.ä»å®˜ç½‘è·å–é…ç½®ä¿¡æ¯ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åªéœ€åˆ° Giscus å®˜ç½‘è·å–é…ç½®ä¿¡æ¯ï¼Œç„¶åå°†é…ç½®ä¿¡æ¯å¡«åˆ° Hugo çš„é…ç½®æ–‡ä»¶ä¸­å³å¯ã€‚ä½†æ˜¯ç”±äºä¸»é¢˜çš„ä¸åŒï¼Œæ‰€ä»¥é…ç½®æ–‡ä»¶çš„å¡«å†™ä¹Ÿä¸åŒï¼Œè¿™é‡Œä»¥ LoveIt ä¸ºä¾‹ã€‚
æ¥åˆ° Giscus å®˜ç½‘
å¡«å†™ä½ çš„ä»“åº“åï¼Œå¦‚ä¸‹å›¾ï¼š
é€‰æ‹©é¡µé¢ä¸åµŒå…¥çš„ discussion ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œå¦‚ä¸‹å›¾ï¼š ç›´æ¥é€‰ç¬¬ä¸€ä¸ªå°±è¡Œ
é€‰æ‹© Discussion åˆ†ç±»ï¼Œå¦‚ä¸‹å›¾ï¼š æˆ‘ä»¬é€‰æ‹© Announcements ç±»å‹å³å¯ï¼Œå®˜æ–¹ä¹Ÿæ˜¯è¿™æ ·æ¨èçš„ï¼Œå› ä¸ºè¿™æ ·ä¾¿äºç®¡ç†ã€‚
å…¶ä»–é€‰é¡¹é»˜è®¤ï¼Œæˆ‘ä»¬å¾€ä¸‹æ»‘ï¼Œæ‰¾åˆ°é…ç½®æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾ï¼š
æˆ‘ä»¬è¦è®°ä¸‹data-repoï¼Œdata-repo-idï¼Œdata-categoryï¼Œdata-category-idï¼Œdata-mappingè¿™å‡ ä¸ªå€¼ã€‚
ä¿®æ”¹ Hugo é…ç½®æ–‡ä»¶ æ‰“å¼€é…ç½®æ–‡ä»¶config.tomlï¼Œæ‰¾åˆ°# è¯„è®ºç³»ç»Ÿè®¾ç½®çš„ç¬¬ä¸€ä¸ª enable å‚é‡ï¼Œå°†å…¶æ”¹ä¸º trueï¼Œå¦‚ä¸‹å›¾ï¼š åˆ°# giscus comment è¯„è®ºç³»ç»Ÿè®¾ç½®,å¹¶æŠŠå…¶é…ç½®æŒ‰ç…§ä¸‹é¢ä»£ç å—ä¿®æ”¹ã€‚
[params.page.comment.giscus] # ä½ å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£æ¥ä½¿ç”¨ä¸‹åˆ—é…ç½® enable = true repo = "&lt;your_repo>" repoId = "&lt;your_repoId>" category = "&lt;your_category>" categoryId = "&lt;your_categoryId>" # &lt;your_repo> å¯¹åº”å®˜ç½‘çš„ data-repo # &lt;your_repoId> å¯¹åº”å®˜ç½‘çš„ data-repo-id # &lt;your_category> å¯¹åº”å®˜ç½‘çš„ data-category # &lt;your_categoryId> å¯¹åº”å®˜ç½‘çš„ data-category-id # ä¸ºç©ºæ—¶è‡ªåŠ¨é€‚é…å½“å‰ä¸»é¢˜ i18n é…ç½® lang = "" mapping = "&lt;your_mapping>" # &lt;your_mapping> å¯¹åº”å®˜ç½‘çš„ data-mapping reactionsEnabled = "1" emitMetadata = "0" inputPosition = "bottom" lazyLoading = false lightTheme = "light" darkTheme = "dark_dimmed" é…ç½®å¥½å,å°±å¯ä»¥å¼€å¯ Giscus è¯„è®ºç³»ç»Ÿäº†ã€‚
...</p></div><footer class=entry-footer><span title='2022-02-10 11:04:49 +0800 CST'>February 10, 2022</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;124 words&nbsp;Â·&nbsp;langhaidian</footer><a class=entry-link aria-label="post link to blogå¼€å¯è¯„è®ºæ¨¡å—" href=https://examplesite.com/posts/other/%E5%8D%9A%E5%AE%A2%E5%BC%80%E5%90%AF%E8%AF%84%E8%AE%BA%E6%A8%A1%E5%9D%97/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>centos7å†…æ ¸4.19å‡çº§åˆ°5.14</h2></header><div class=entry-content><p>æœ€è¿‘ç¢°åˆ°æ­å»ºæµ‹è¯•k8sç¯å¢ƒï¼Œç³»ç»Ÿç‰ˆæœ¬å¤ªä½å¯¼è‡´å¾ˆå¤šé—®é¢˜ï¼Œè¿›è¡Œgoogleåæ•´ç†çš„å‡çº§æ­¥éª¤ï¼Œä¾›å‚è€ƒã€‚ 1. æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬ uname -msr 2. æ›´æ–°è½¯ä»¶ç‰ˆæœ¬ sudo yum -y update 3. å¯¼å…¥eplr rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org 4. ELRepo yum install https://www.elrepo.org/elrepo-release-7.el7.elrepo.noarch.rpm 5. æŸ¥æ‰¾ç°æœ‰å†…æ ¸ç‰ˆæœ¬ yum list available --disablerepo='*' --enablerepo=elrepo-kernel * MLä¸ºä¸»çº¿ç‰ˆæœ¬ï¼ŒLTä¸ºé•¿æœŸæ”¯æŒç‰ˆæœ¬ 6. å®‰è£…å†…æ ¸ç‰ˆæœ¬ sudo yum --enablerepo=elrepo-kernel install kernel-lt 7. åˆ é™¤æ—§ç‰ˆæœ¬tools yum remove kernel-tools-libs.x86_64 kernel.x86_64 -y yum remove kernel-tools-libs.x86_64 kernel-tools.x86_64 -y 8. å®‰è£…å·¥å…·åŒ… yum --disablerepo=\* --enablerepo=elrepo-kernel install kernel-lt-tools.x86_64 -y 9. é‡å¯æ‰‹åŠ¨é€‰æ‹©å†…æ ¸è¿›å…¥ç³»ç»Ÿæ£€æŸ¥ç³»ç»Ÿæƒ…å†µ reboot 10. æŸ¥çœ‹æ‰€æœ‰å¯åŠ¨å†…æ ¸ awk -F \' '$1=="menuentry " {print i++ " : " $2}' /etc/grub2.cfg ä¿®æ”¹é»˜è®¤å¯åŠ¨å†…æ ¸ï¼šgrub2-set-default 0 11. ç¼–è¾‘å¯åŠ¨é¡ºåº sudo vim /etc/default/grub --------------------- * Once the file opens, look for the line that says GRUB_DEFAULT=X, and change it to GRUB_DEFAULT=0 (zero). * This line will instruct the boot loader to default to the first kernel on the list, which is the latest. å°†GRUB_DEFAULT=X ä¿®æ”¹æˆGRUB_DEFAULT=0 åŠ è½½ç¬¬ä¸€ä¸ªå†…æ ¸ç‰ˆæœ¬å¹¶ä¸”ä¸ºæœ€åä¸€ä¸ªç‰ˆæœ¬ 12. æ›´æ–°å¯åŠ¨é…ç½®æ–‡ä»¶ sudo grub2-mkconfig -o /boot/grub2/grub.cfg 13. æŸ¥çœ‹å¯åŠ¨é¡ºåº grub2-editenv list 14. é‡å¯éªŒè¯ reboot</p></div><footer class=entry-footer><span title='2022-02-10 11:04:49 +0800 CST'>February 10, 2022</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;137 words&nbsp;Â·&nbsp;langhaidian</footer><a class=entry-link aria-label="post link to centos7å†…æ ¸4.19å‡çº§åˆ°5.14" href=https://examplesite.com/posts/linux/cnetos7%E5%8D%87%E7%BA%A7%E5%86%85%E6%A0%B8/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>centos7ç¦»çº¿å®‰è£…docker</h2></header><div class=entry-content><p>å†…ç½‘ç¯å¢ƒcentos 7.2éœ€è¦å®‰è£…dockerï¼Œå¹¶è¿è¡Œç›¸å…³ç³»ç»Ÿ 1. æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬ uname -msr 2. æ›´æ–°è½¯ä»¶ç‰ˆæœ¬ docker run â€“rm -v ${PWD}/bin:/tmp -it centos:7.6.1810 bash
In the online container: cd /tmp yum-config-manager â€“add-repo=https://download.docker.com/linux/centos/docker-ce.repo yum install -y yum-utils yum makecache fast yum list docker-ce â€“showduplicates | sort -r yumdownloader â€“resolve docker-ce-18.06.3.ce-3.el7 docker-ce-cli-24.0.7-1.el7 containerd.io-1.6.27-3.1.el7 docker-buildx-plugin-0.11.2-1.el7 docker-compose-plugin-2.21.0-1.el7 yum-utils
rpm -ivh â€“replacefiles â€“replacepkgs .rpm rpm -ivh ./openssh74pl/.rpm â€“force â€“nodeps
docker run â€“rm -v ${PWD}/bin:/tmp -it debian:11.7 bash
é»˜è®¤å­˜æ”¾ä¸‹è½½çš„debæ–‡ä»¶çš„è·¯å¾„æ˜¯ /var/cache/apt/archives
apt install â€“download-only xxxx
...</p></div><footer class=entry-footer><span title='2022-02-10 11:04:49 +0800 CST'>February 10, 2022</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;80 words&nbsp;Â·&nbsp;langhaidian</footer><a class=entry-link aria-label="post link to centos7ç¦»çº¿å®‰è£…docker" href=https://examplesite.com/posts/linux/cnetos7%E5%B0%8F%E7%89%88%E6%9C%AC%E5%AE%89%E8%A3%85docker/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>containerdå®‰è£…</h2></header><div class=entry-content><p>debian 11å®‰è£…(å»ºè®®debianå†…æ ¸ä¸º5.11ä»¥å)
éœ€è¦å®‰è£…å†…å®¹ containerdã€runcã€CNI pluginsã€nerdctl(å®¢æˆ·ç«¯) å®‰è£…containerd a. è¿›å…¥ä¸‹è½½å¯¹åº”ç‰ˆæœ¬https://github.com/containerd/containerd/releases wget https://github.com/containerd/containerd/releases/download/v1.7.2/containerd-1.7.2-linux-amd64.tar.gz b. shell> tar Cxzvf /usr/local containerd-1.6.2-linux-amd64.tar.gz bin/ c. é…ç½®å¼€æœºå¯åŠ¨æœåŠ¡ æœåŠ¡é…ç½®æ–‡ä»¶å†…å®¹ï¼šhttps://raw.githubusercontent.com/containerd/containerd/main/containerd.service vim /etc/systemd/system/containerd.service ---------------- # Copyright The containerd Authors. # # Licensed under the Apache License, Version 2.0 (the "License"); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an "AS IS" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. [Unit] Description=containerd container runtime Documentation=https://containerd.io After=network.target local-fs.target [Service] #uncomment to enable the experimental sbservice (sandboxed) version of containerd/cri integration #Environment="ENABLE_CRI_SANDBOXES=sandboxed" ExecStartPre=-/sbin/modprobe overlay ExecStart=/usr/local/bin/containerd Type=notify Delegate=yes KillMode=process Restart=always RestartSec=5 # Having non-zero Limit*s causes performance problems due to accounting overhead # in the kernel. We recommend using cgroups to do container-local accounting. LimitNPROC=infinity LimitCORE=infinity LimitNOFILE=infinity # Comment TasksMax if your systemd version does not supports it. # Only systemd 226 and above support this version. TasksMax=infinity OOMScoreAdjust=-999 [Install] WantedBy=multi-user.target ----------------- shell> systemctl daemon-reload shell> systemctl enable --now containerd å®‰è£…runc ä¸‹è½½å¯¹åº”å®‰è£…æ–‡ä»¶ï¼šhttps://github.com/opencontainers/runc/releases shell> install -m 755 runc.amd64 /usr/local/sbin/runc å®‰è£…CNI plugins ä¸‹è½½å¯¹åº”å®‰è£…æ–‡ä»¶ï¼šhttps://github.com/containernetworking/plugins/releases shell> mkdir -p /opt/cni/bin shell> tar Cxzvf /opt/cni/bin cni-plugins-linux-amd64-v1.1.1.tgz å®‰è£…nerdctl ä¸‹è½½å¯¹åº”å®‰è£…æ–‡ä»¶ï¼šhttps://github.com/containerd/nerdctl/releases shell> tar Cxzvvf /usr/local/bin nerdctl-1.4.0-linux-amd64.tar.gz é…ç½®ï¼šRootless a. å®‰è£…ä¾èµ–ï¼š shell> sudo apt-get purge apparmor apparmor-utils auditd shell> sudo apt-get install uidmap shell> sudo apt-get install slirp4netns ç‰¹æ®Šé…ç½®ï¼š 1. å¼€å¯overlay echo "options overlay permit_mounts_in_userns=1" > /etc/modprobe.d/mdadm.conf 2. å¼€å¯é…ç½®cgroup v2 shell> vim /etc/default/grub ------ GRUB_CMDLINE_LINUX="systemd.unified_cgroup_hierarchy=1" ------ shell> sudo update-grub. -------- Enabling CPU, CPUSET, and I/O delegation $ cat /sys/fs/cgroup/user.slice/user-$(id -u).slice/user@$(id -u).service/cgroup.controllers memory pids $ sudo mkdir -p /etc/systemd/system/user@.service.d $ cat &lt;&lt;EOF | sudo tee /etc/systemd/system/user@.service.d/delegate.conf [Service] Delegate=cpu cpuset io memory pids EOF $ sudo systemctl daemon-reload --------- shell> containerd-rootless-setuptool.sh install iptable é—®é¢˜ï¼š I had the same issue and in my system (debian bullseye) iptables and ip6tables was installed only under /usr/sbin. A quick fix was to make a link in /usr/local/bin ln -s /usr/sbin/iptables /usr/local/bin/iptables ln -s /usr/sbin/ip6tables /usr/local/bin/ip6tables</p></div><footer class=entry-footer><span title='2022-02-10 11:04:49 +0800 CST'>February 10, 2022</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;353 words&nbsp;Â·&nbsp;langhaidian</footer><a class=entry-link aria-label="post link to containerdå®‰è£…" href=https://examplesite.com/posts/linux/containerd%E5%AE%89%E8%A3%85/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>debian 11åŸºç¡€ç¯å¢ƒå‡†å¤‡</h2></header><div class=entry-content><p>1. æ›¿æ¢é»˜è®¤æº cat &lt;&lt; EOF > /etc/apt/sources.list # Official sources.list deb http://deb.debian.org/debian bullseye main contrib non-free deb-src http://deb.debian.org/debian bullseye main contrib non-free deb http://deb.debian.org/debian bullseye-updates main contrib non-free deb-src http://deb.debian.org/debian bullseye-updates main contrib non-free deb http://deb.debian.org/debian bullseye-backports main contrib non-free deb-src http://deb.debian.org/debian bullseye-backports main contrib non-free deb http://security.debian.org/debian-security/ bullseye-security main contrib non-free deb-src http://security.debian.org/debian-security/ bullseye-security main contrib non-free EOF æ›´æ–°ç³»ç»Ÿï¼š sudo apt update #æ›´æ–°æº sudo apt upgrade #æ›´æ–°å·²å®‰è£…çš„åŒ… sudo apt dist-upgrade #å‡çº§ç³»ç»Ÿ sudo apt clean && sudo apt autoclean #æ¸…ç†ä¸‹è½½æ–‡ä»¶çš„å­˜æ¡£ 2. ç»™rootè´¦æˆ·è®¾ç½®æˆ–è€…ä¿®æ”¹å¯†ç  passwd root 3. å®‰è£…sudo apt install sudo **ç»™æ™®é€šç”¨æˆ·æ·»åŠ sudoæƒé™ usermod -a -G sudo XXXX 4. é»˜è®¤rootç¦æ­¢sshè¿œç¨‹ç™»å½•(æ¨èä¿æŒé»˜è®¤) ä¿®æ”¹é…ç½®æ–‡ä»¶ sudo cp /etc/ssh/sshd_config /etc/ssh/sshd_config.bak sudo vi /etc/ssh/sshd_config #Authentication: #LoginGraceTime 2m #PermitRootLogin prohibit-password #StrictModes yes #MaxAuthTries 6 #MaxSessions 10 #PubkeyAuthentication yes å¢åŠ ä¸€å¥ PermitRootLogin yes å¿«é€Ÿé…ç½®ï¼š sudo sed -i "/^#PermitRootLogin/c"PermitRootLogin" " yes"" /etc/ssh/sshd_config è¡¥å……ï¼š PermitRootLogin prohibit-password #å…è®¸ root ç™»å½•ï¼Œä½†ç¦æ­¢é€‚ç”¨å¯†ç è®¤è¯ å¯ä»¥é…åˆä½¿ç”¨ Pubkey è®¤è¯ï¼Œä¿®æ”¹ PubkeyAuthentication yes é‡å¯æœåŠ¡ç”Ÿæ•ˆï¼š sudo systemctl restart ssh 5. é…ç½®ç½‘ç»œ vim /etc/network/interfaces ============ # ä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼š iface lo inet loopback auto lo auto eth0 iface eth0 inet static address 10.10.1.5 netmask 255.255.255.0 #broadcast 10.10.1.255 #å¯é€‰ï¼Œä¸Šè¿°é…ç½®äº†æ©ç  #network 10.10.1.0 #å¯é€‰ï¼Œä¸Šè¿°é…ç½®äº†æ©ç  gateway 10.10.1.1 #dns-domain sysin.org # domain å’Œ search ä¸èƒ½å…±å­˜ï¼›å¦‚æœåŒæ—¶å­˜åœ¨ï¼Œåé¢å‡ºç°çš„å°†ä¼šè¢«ä½¿ç”¨ã€‚ dns-search sysin.org dns-nameservers 10.10.1.1 8.8.8.8 #æ³¨æ„ debian 11 é»˜è®¤æ²¡æœ‰å®‰è£… resolvconfï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨åœ¨ resolv.conf ä¸­ç¼–è¾‘ DNS ============ # æˆ–è€…å®‰è£… resolvconf åï¼Œåœ¨è¿™é‡Œé…ç½®ï¼Œå°†è‡ªåŠ¨æ›´æ–° resolv.conf sudo apt install resolvconf # iface eth0 inet6 auto #ipv6 è‡ªåŠ¨é…ç½®ï¼Œä¸å†™åˆ™è¡¨ç¤ºç¦ç”¨äº† ============ # DHCP é…ç½®å¦‚ä¸‹ï¼š auto eth0 iface eth0 inet dhcp ============= # é…ç½® DNS cat /etc/resolv.conf #å¦‚æœå·²ç»å®‰è£… resolvconfï¼Œä¸è¦æ‰‹åŠ¨ç¼–è¾‘ï¼Œç›´æ¥åœ¨ä¸Šè¿° interfaces ä¸­ç¼–è¾‘ dns ============= # é‡å¯ç½‘ç»œ sudo systemctl restart networking #sudo service networking restart ================= é…ç½®å¤šä¸ªip auto eth0:0 iface eth0:0 inet static address 192.168.1.90 netmask 255.255.255.0 auto eth0:1 iface eth0:1 inet static address 192.168.1.91 netmask 255.255.255.0 gateway 192.168.1.1 ======= #æ·»åŠ é™æ€è·¯ç”±ä¿¡æ¯ cat >> /etc/network/interfaces &lt;&lt;EOF # static routes up ip route add 10.10.12.0/24 via 10.10.1.1 dev eth0 up ip route add 10.10.13.0/24 via 10.10.1.1 dev eth0 up ip route add 10.10.14.0/24 via 10.10.1.1 dev eth0 up ip route add 10.10.15.0/24 via 10.10.1.1 dev eth0 up ip route add 10.10.16.0/24 via 10.10.1.1 dev eth0 EOF #é‡å¯ç½‘ç»œ systemctl restart networking #éªŒè¯ ip route 6. ä¿®æ”¹ä¸»æœºå vim /etc/hostname hostnamectl set-hostname debian-01 --static vim /etc/hosts # æ·»åŠ ä¸€è¡Œ 127.0.0.1 debian01.sysin.org debian01 # æ³¨æ„è¿™é‡Œçš„æ ¼å¼ï¼ŒIP åé¢å…ˆå†™ FQDN å†å†™ä¸»æœºåï¼Œä¸ CentOS ç›¸åŒ # å…ˆå†™ FQDN åå†™ä¸»æœºåï¼Œé¡ºåºåäº†ä¸å½±å“è§£æï¼Œä½†æ˜¯'hostname -f'å‘½ä»¤æ— æ³•æ˜¾ç¤º FQDNï¼Œåªèƒ½æ˜¾ç¤ºä¸»æœºå 7. å®‰è£…intelæ— çº¿ç½‘å¡ æŸ¥çœ‹ç½‘çº¿è®¾å¤‡ä¿¡æ¯ lspci -nn å®‰è£…wifié©±åŠ¨åŒ… apt update && apt install firmware-iwlwifi é‡æ–°åŠ è½½wifiæ¨¡å— modprobe -r iwlwifi ; modprobe iwlwifi 8. ä¿®æ”¹é»˜è®¤ulimtå‚æ•° cat &lt;&lt; EOF >> /etc/security/limits.conf * soft nofile 65535 * hard nofile 65535 * soft nproc 65535 * hard nproc 65535 EOF cat &lt;&lt; EOF > /etc/security/limits.d/20-nproc.conf * soft nproc 65535 root soft nproc unlimited EOF 9. å®‰è£…openjdk8 ##sudo apt install apt-transport-https ca-certificates wget dirmngr gnupg software-properties-common wget -qO - https://adoptopenjdk.jfrog.io/adoptopenjdk/api/gpg/key/public | sudo apt-key add - sudo add-apt-repository --yes https://adoptopenjdk.jfrog.io/adoptopenjdk/deb/ sudo apt-get update && sudo apt-get install adoptopenjdk-8-hotspot sudo apt update sudo apt install adoptopenjdk-8-hotspot 10. å®‰è£…dockeråŠdocker-compose ## å¸è½½æ—§ç‰ˆæœ¬è½¯ä»¶ sudo apt-get remove docker docker-engine docker.io containerd runc ## å®‰è£…ä¾èµ– sudo apt-get update sudo apt-get install \ ca-certificates \ curl \ gnupg \ lsb-release ## å¯¼å…¥gpg key curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg ## æ·»åŠ ä»“åº“ echo \ "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian \ $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null ## å¼€å§‹å®‰è£… sudo apt-get update sudo apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin 11. è®¾ç½®æ—¶åŒº é€šè¿‡timedatectlè¿›è¡Œè®¾ç½® æ£€æŸ¥å½“å‰æ—¶åŒº: timedatectl Local time: Fri 2020-04-03 19:23:29 UTC Universal time: Fri 2020-04-03 19:23:29 UTC RTC time: Fri 2020-04-03 19:23:29 Time zone: UTC (UTC, +0000) ..... ##æ›´æ”¹æ—¶åŒº timedatectl list-timezones ï½œ grep Shanghai ##è¿‡æ»¤ä¸Šæµ·æ—¶åŒº sudo timedatectl set-timezone your_time_zone ##æ›´æ”¹æ—¶åŒº sudo timedatectl set-timezone Asia/Shanghai ##è®¾ç½®ä¸Šæµ·æ—¶åŒº ##æŸ¥çœ‹å’ŒéªŒè¯æ—¶åŒº timedatectl Local time: Fri 2020-04-03 13:30:30 CST Universal time: Fri 2020-04-03 19:30:30 UTC RTC time: Fri 2020-04-03 19:30:30 Time zone: America/Monterrey (CST, -0600) ....... date ## æŸ¥çœ‹å…·ä½“æ—¶é—´ é€šè¿‡è½¯è¿æ¥è¿›è¡Œè®¾ç½® è¾ƒæ—§ç‰ˆæœ¬debianï¼Œæ²¡æœ‰timedatectlå¯ä»¥é€šè¿‡è½¯è¿æ¥è¿›è¡Œè®¾ç½®ï¼Œå¯ä»¥é€šè¿‡/etc/localtimeæ–‡ä»¶ç¬¦å·é“¾æ¥åˆ°/usr/share/zoShanghai
...</p></div><footer class=entry-footer><span title='2022-02-10 11:04:49 +0800 CST'>February 10, 2022</span>&nbsp;Â·&nbsp;4 min&nbsp;Â·&nbsp;691 words&nbsp;Â·&nbsp;langhaidian</footer><a class=entry-link aria-label="post link to debian 11åŸºç¡€ç¯å¢ƒå‡†å¤‡" href=https://examplesite.com/posts/linux/debian11/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>debianå‡çº§å†…æ ¸</h2></header><div class=entry-content><p>æœ€è¿‘ç¢°åˆ°æ­å»ºæµ‹è¯•k8sç¯å¢ƒï¼Œç³»ç»Ÿç‰ˆæœ¬å¤ªä½å¯¼è‡´å¾ˆå¤šé—®é¢˜ï¼Œè¿›è¡Œgoogleåæ•´ç†çš„å‡çº§æ­¥éª¤ï¼Œä¾›å‚è€ƒã€‚ 1. æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬ uname -msr 2. æ›´æ–°è½¯ä»¶ç‰ˆæœ¬ sudo yum -y update 3. å¯¼å…¥eplr rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org 4. ELRepo yum install https://www.elrepo.org/elrepo-release-7.el7.elrepo.noarch.rpm 5. æŸ¥æ‰¾ç°æœ‰å†…æ ¸ç‰ˆæœ¬ yum list available --disablerepo='*' --enablerepo=elrepo-kernel * MLä¸ºä¸»çº¿ç‰ˆæœ¬ï¼ŒLTä¸ºé•¿æœŸæ”¯æŒç‰ˆæœ¬ 6. å®‰è£…å†…æ ¸ç‰ˆæœ¬ sudo yum --enablerepo=elrepo-kernel install kernel-lt 7. åˆ é™¤æ—§ç‰ˆæœ¬tools yum remove kernel-tools-libs.x86_64 kernel.x86_64 -y yum remove kernel-tools-libs.x86_64 kernel-tools.x86_64 -y 8. å®‰è£…å·¥å…·åŒ… yum --disablerepo=\* --enablerepo=elrepo-kernel install kernel-lt-tools.x86_64 -y 9. é‡å¯æ‰‹åŠ¨é€‰æ‹©å†…æ ¸è¿›å…¥ç³»ç»Ÿæ£€æŸ¥ç³»ç»Ÿæƒ…å†µ reboot 10. æŸ¥çœ‹æ‰€æœ‰å¯åŠ¨å†…æ ¸ awk -F \' '$1=="menuentry " {print i++ " : " $2}' /etc/grub2.cfg ä¿®æ”¹é»˜è®¤å¯åŠ¨å†…æ ¸ï¼šgrub2-set-default 0 11. ç¼–è¾‘å¯åŠ¨é¡ºåº sudo vim /etc/default/grub --------------------- * Once the file opens, look for the line that says GRUB_DEFAULT=X, and change it to GRUB_DEFAULT=0 (zero). * This line will instruct the boot loader to default to the first kernel on the list, which is the latest. å°†GRUB_DEFAULT=X ä¿®æ”¹æˆGRUB_DEFAULT=0 åŠ è½½ç¬¬ä¸€ä¸ªå†…æ ¸ç‰ˆæœ¬å¹¶ä¸”ä¸ºæœ€åä¸€ä¸ªç‰ˆæœ¬ 12. æ›´æ–°å¯åŠ¨é…ç½®æ–‡ä»¶ sudo grub2-mkconfig -o /boot/grub2/grub.cfg 13. æŸ¥çœ‹å¯åŠ¨é¡ºåº grub2-editenv list 14. é‡å¯éªŒè¯ reboot</p></div><footer class=entry-footer><span title='2022-02-10 11:04:49 +0800 CST'>February 10, 2022</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;137 words&nbsp;Â·&nbsp;langhaidian</footer><a class=entry-link aria-label="post link to debianå‡çº§å†…æ ¸" href=https://examplesite.com/posts/linux/debian%E5%8D%87%E7%BA%A7%E5%86%85%E6%A0%B8/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>docker-composeä¸‹å®¹å™¨å¯åŠ¨é¡ºåºæ§åˆ¶</h2></header><div class=entry-content><p>æƒ…å†µè¯´æ˜ï¼š docker-composeä¸­æ£€æµ‹æœåŠ¡å¯åŠ¨åçš„çŠ¶æ€ï¼Œä¹Ÿæ˜¯æœ€è¿‘ç¢°åˆ°äº†ä¸šåŠ¡ä¸­éœ€è¦æ§åˆ¶æœåŠ¡çŠ¶æ€å¯åŠ¨é¡ºåºï¼Œç¿»é˜…å®˜æ–¹ã€googleå’Œç¾¤å‹å¸®åŠ©ç ”ç©¶å‡ºæ­¤æ–‡ã€‚ ä¸åŒäºdepends_onæ­¤ç§æ–¹å¼åªæ˜¯å¯åŠ¨é¡ºåºé…ç½®ï¼Œä¸ç®¡æœåŠ¡çŠ¶æ€æ˜¯å¦å¯åŠ¨ï¼Œè¦æ£€æµ‹æœåŠ¡ä¸­çš„çŠ¶æ€è¿˜éœ€è¦å€ŸåŠ©ç¬¬ä¸‰æ–¹è„šæœ¬æˆ–è€…å…¶ä»–ç¨‹åºï¼Œå®˜æ–¹æœ‰æ¨èwait-for-it, dockerize,wait-for, RelayAndContainersç­‰æ–¹å¼ã€‚ æœ¬æ–‡ä»¶ä½¿ç”¨wait æä¾›çš„ç¨‹åºè¿›è¡Œæ£€æµ‹å’Œå¯åŠ¨,githubåœ°å€ä¸ºï¼šhttps://github.com/ufoscout/docker-compose-waitï¼›ä¹Ÿæ˜¯å¯ä»¥å‚è€ƒå®˜æ–¹ä½¿ç”¨æ–¹æ³•ï¼Œrustç¼–å†™çš„äºŒè¿›åˆ¶æ–‡ä»¶æ— ä¾èµ–ï¼Œç›´æ¥æ‰§è¡Œã€‚ å…·ä½“æ­¥éª¤ï¼š 1. ä¸‹è½½ç¨‹åº (é€šè¿‡ç¦»çº¿æ–¹å¼è¿›è¡Œä¸‹è½½å°è£…ï¼Œå…·ä½“åŸå› ä¸è§£é‡Šã€‚) wget -O https://github.com/ufoscout/docker-compose-wait/releases/download/2.9.0/wait 2. dockerfileå°è£… FROM openjdk:8-jdk-alpine LABEL "maintainer"="sergio13848.com" LABEL "rating"="chinadci" "class"="pipe2d3d" ENV JVM_XMS="1g" \ JVM_XMX="1g" \ JVM_XMN="512m" \ JVM_MS="128m" \ JVM_MMS="320m" RUN apk add --update tzdata && cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \ && echo "Asia/Shanghai" > /etc/timezone \ && apk del tzdata \ && apk add --update --no-cache bash VOLUME [ "/opt/2d3d" ] WORKDIR /data COPY *.jar pipe2d3d.jar COPY bootstrap.yml bootstrap.yml COPY run.sh . COPY wait . # æ‹·è´waitç¨‹åºè‡³å®¹å™¨ RUN chmod +x run.sh \ && chmod +x wait # èµ‹äºˆæ‰§è¡Œæƒé™ EXPOSE 29670 CMD ./wait && ./run.sh 3. ä¿®æ”¹docker-composeé…ç½®æ–¹å¼ nacos: image: nacos/nacos-server:2.0.2 container_name: nacos privileged: true restart: always env_file: - ./env/nacos-standlone-mysql.env volumes: - ./nacos/standalone-logs/:/home/nacos/logs ports: - 8848:8848 - 9848:9848 - 9555:9555 depends_on: - mysql ------- 2d3d: build: ./2d3d/ image: chinadci/2d3d:latest container_name: chinadci-2d3d privileged: true restart: always ports: - 29670:29670 volumes: - ./2d3d:/data environment: WAIT_HOSTS: nacos:8848 # æ­¤å¤„é…ç½®éœ€è¦ç­‰å¾…çš„æœåŠ¡(ä¸ºå®¹å™¨å¯åŠ¨åçš„æœåŠ¡å™¨åç§°å’Œç«¯å£å·)ï¼Œ è¿˜æœ‰å¯åŠ¨å‚æ•°å¯ä»¥å‚è€ƒgithubä»‹ç» depends_on: - nacos 4. é…ç½®æˆåŠŸæ•ˆæœ ...</p></div><footer class=entry-footer><span title='2022-02-10 11:04:49 +0800 CST'>February 10, 2022</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;167 words&nbsp;Â·&nbsp;langhaidian</footer><a class=entry-link aria-label="post link to docker-composeä¸‹å®¹å™¨å¯åŠ¨é¡ºåºæ§åˆ¶" href=https://examplesite.com/posts/docker/docker_start/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Dockerfileæ–‡ä»¶ç¼–å†™</h2></header><div class=entry-content><p>æƒ…å†µè¯´æ˜ï¼š å…¬å¸ä¸šåŠ¡æœ€è¿‘æ­£åœ¨è½¬å‹ä¸­ï¼Œä»ä¼ ç»Ÿæ¨¡å¼è½¬å˜åˆ°å¾®æœåŠ¡æ¶æ„è®¾è®¡ï¼Œæœ€ç»ˆè½åˆ°dockerçš„æ–¹å¼è¿›è¡ŒæœåŠ¡æ‰“åŒ…éƒ¨ç½²ã€‚åæœŸéšç€è§„æ¨¡æ‰©å¤§ä¹Ÿæœ‰å¯èƒ½ä½¿ç”¨k8sæ–¹å¼è¿›è¡Œä¸šåŠ¡æ‰©å……ï¼Œç›´è‡³SaaSæ–¹å¼æä¾›ä¸“æœ‰æœåŠ¡ã€‚ ç ”å‘éƒ¨åˆ†ç›®å‰æ„Ÿè§‰åªä¸“æ³¨äºè‡ªå·±çš„ä¸šåŠ¡å¼€å‘ï¼ŒåŸºç¡€è®¾æ–½æœåŠ¡æ–¹é¢æ²¡æœ‰è¿‡å¤šæ¶‰åŠï¼Œé‚ç€æ‰‹è¿›è¡ŒDockerfileæ–‡ä»¶ç¼–å†™æ‰“åŒ…æœåŠ¡ï¼Œé¡¹ç›®ä»¥Spring Bootå¼€å‘æ–¹å¼ä¸ºä¸»ã€‚ å…·ä½“æ­¥éª¤: 1. è·å–åº”ç”¨ç¨‹åº ç»“æ„å¦‚ä¸‹
2. dockerfileç¼–å†™ FROM openjdk:8-jdk-alpine # ä½¿ç”¨alpineç‰ˆæœ¬ä½œä¸ºåŸºç¡€é•œåƒ LABEL "maintainer"="sergio13848.com" # è®¾ç½®æ ‡ç­¾ LABEL "rating"="chinadci" "class"="pipe2d3d" # è®¾ç½®æ ‡ç­¾ RUN apk add --update tzdata && cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \ && echo "Asia/Shanghai" > /etc/timezone \ && apk del tzdata \ && apk add --update --no-cache bash # å®‰è£…tzdataè®¾å®šæ—¶åŒº VOLUME [ "/opt/2d3d" ] # è®¾ç½®æŒ‚è½½ç›®å½• WORKDIR /data # è®¾ç½®å·¥ä½œç›®å½• COPY *.jar pipe2d3d.jar COPY bootstrap.yml bootstrap.yml COPY run.sh . COPY wait . #æ‹·è´æºç åˆ°å·¥ä½œç›®å½•ä¸‹ RUN chmod +x run.sh \ && chmod +x wait # ç»™äºˆè¿è¡Œå‚æ•° EXPOSE 29670 # æœåŠ¡æš´éœ²ç«¯å£å· CMD ./wait && ./run.sh # è¿è¡Œï¼Œwaitä¸ºæ£€æµ‹æœåŠ¡çŠ¶æ€æ˜¯å¦å°±ç»ªï¼Œä¸Šä¸ªç« èŠ‚æœ‰è®² 3. run.shç¼–å†™ ä½¿ç”¨è¿è¡Œè„šæœ¬ä¸dockerå°è£…è„±ç¦»
...</p></div><footer class=entry-footer><span title='2022-02-10 11:04:49 +0800 CST'>February 10, 2022</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;145 words&nbsp;Â·&nbsp;langhaidian</footer><a class=entry-link aria-label="post link to Dockerfileæ–‡ä»¶ç¼–å†™" href=https://examplesite.com/posts/docker/dockerfile%E7%BC%96%E5%86%99/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>geoscen serveråŸºç¡€éƒ¨ç½²-centos 7.6</h2></header><div class=entry-content><p>1. å‡†å¤‡å·¥ä½œ 1.1 å…³é—­é˜²ç«å¢™
åœæ­¢é˜²ç«å¢™ï¼šsystemctl stop firewalld.service ç¦ç”¨é˜²ç«å¢™çš„å¼€æœºå¯åŠ¨ï¼šsystemctl disable firewalld.service æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€ï¼šsystemctl status firewalld.service 1.2 ç”¨æˆ·å’Œç»„åˆ›å»º
# groupadd xcy # useradd -g xcy -m geoscene //ç»‘å®šç”¨æˆ·å’Œç”¨æˆ·ç»„ # passwd geoscene //è®¾ç½®å¯†ç geoscene 1.3 ä¿®æ”¹è®¡ç®—æœºåï¼š
# hostname //æŸ¥çœ‹è®¡ç®—æœºå # vi /etc/hostname ç¼–è¾‘æœºå™¨åä¸ºxcyteståä¿å­˜é€€å‡º # vi /etc/sysconfig/network æ–‡ä»¶ä¸­çš„hostnameä¿®æ”¹ä¸ºxcytest 1.4 ä¿®æ”¹hostsæ–‡ä»¶
# vi /etc/hosts 192.168.0.130 xcytest.portal.com xcytest //å¢åŠ é…ç½®ä¿¡æ¯ 1.5 æ£€æŸ¥ä¸»æœºåæ˜¯å¦ç”Ÿæ•ˆ
# hostname xcytest //è®©ä¿®æ”¹ç«‹å³ç”Ÿæ•ˆ # hostname -f //æŸ¥çœ‹å®Œå…¨é™å®šåŸŸå xcytest.portal.com 1.6 æ£€æŸ¥ç£ç›˜å¤§å°æƒ…å†µ
df -h ç¡®ä¿/home/å¾„è·¯ä¸‹å­˜å‚¨ç©ºé—´æ»¡è¶³è¦æ±‚ 1.7 å‡†å¤‡å®‰è£…åŒ… å®‰è£…åŒ…ï¼šgeoscene_datastoreã€geoscene_portalã€geoscne_serverã€geoscene_webadapter_java å°†å®‰è£…åŒ…ä¸Šä¼ åˆ°/home/geoscen/azb
...</p></div><footer class=entry-footer><span title='2022-02-10 11:04:49 +0800 CST'>February 10, 2022</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;291 words&nbsp;Â·&nbsp;langhaidian</footer><a class=entry-link aria-label="post link to geoscen serveråŸºç¡€éƒ¨ç½²-centos 7.6" href=https://examplesite.com/posts/linux/geoscenserver2.0%E5%9F%BA%E7%A1%80%E9%83%A8%E7%BD%B2/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>iperfæµ‹è¯•å¸¦å®½</h2></header><div class=entry-content><p>æœ‰é¡¹ç›®éœ€æ±‚éœ€è¦æµ‹è¯•å±€åŸŸç½‘å†…å¸¦å®½ï¼Œç½‘ä¸Šæ•´ç†åè¾“å‡ºã€‚ è®¾ç½®æœåŠ¡å™¨ç«¯ iperf -s -w 2m ç¼“å­˜åŒº2må•å‘æµ‹è¯•ï¼Œ-sä»£è¡¨æœåŠ¡å™¨ç«¯
è®¾ç½®å®¢æˆ·ç«¯ iperf -c serverip -w 2m -t 30s -i 1s ç¼“å­˜åŒº2må•å‘æµ‹è¯•ï¼Œè¿è¡Œæ—¶é—´30ç§’ï¼Œæ¯ç§’æ˜¾ç¤ºä¸€æ¬¡ç»“æœ
iperf -c serverip -u -b 500M -w 2m -t 30s -i 1s æµ‹è¯•500må¸¦å®½ï¼Œä½¿ç”¨udpåè®®
å¸¸ç”¨é€‰é¡¹ï¼š -f, --format [kmKM] æŠ¥å‘Šæ ¼å¼ï¼šKbitsã€Mbitsã€KBytesã€MBytes -h, --help æ‰“å°å¸®åŠ©å¤§çº² -i, --interval n åœ¨å®šæœŸå¸¦å®½æŠ¥å‘Šä¹‹é—´æš‚åœ n ç§’ -l, --len n[KM] å°†è¯»/å†™ç¼“å†²åŒºé•¿åº¦è®¾ç½®ä¸º nï¼ˆé»˜è®¤ä¸º 8 KBï¼‰ -m, --print_mss æ‰“å° TCP æœ€å¤§æ•°æ®æ®µé•¿åº¦ï¼ˆMTU - TCP/IP æ ‡å¤´ï¼‰ -o, --output &lt;filename> å°†æŠ¥å‘Šæˆ–é”™è¯¯æ¶ˆæ¯è¾“å‡ºåˆ°æ­¤æŒ‡å®šæ–‡ä»¶ -p, --port n å°†è¦ä¾¦å¬/è¿æ¥çš„æœåŠ¡å™¨ç«¯å£è®¾ç½®ä¸º nï¼ˆé»˜è®¤ä¸º 5001ï¼‰ -u, --udp ä½¿ç”¨ UDP è€Œä¸æ˜¯ TCP -w, --window n[KM] TCP çª—å£å¤§å°ï¼ˆå¥—æ¥å­—ç¼“å†²åŒºå¤§å°ï¼‰ -B, --bind &lt;host> ç»‘å®šåˆ° &lt;host>ï¼Œæ¥å£æˆ–å¤šæ’­åœ°å€ -C, --compatibility ç”¨äºè¾ƒä½ç‰ˆæœ¬ï¼Œä¸å‘é€é¢å¤–æ¶ˆæ¯ -M, --mss n è®¾ç½® TCP æœ€å¤§æ•°æ®æ®µé•¿åº¦ï¼ˆMTU - 40 å­—èŠ‚ï¼‰ -N, --nodelay è®¾ç½® TCP no delayï¼Œç¦ç”¨ Nagle ç®—æ³• -v, --version æ‰“å°ç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡º -V, --IPv6Version å°†åŸŸè®¾ç½®ä¸º IPv6 -x, --reportexclude [CDMSV] æ’é™¤ C(connection) D(data) M(multicast) S(settings) V(server) æŠ¥å‘Š -y, --reportstyle C|c æ˜¯å¦è®¾ç½® C æˆ– c æŠ¥å‘Šç»“æœä¸º CSVï¼ˆé€—å·åˆ†éš”å€¼ï¼‰ ç‰¹å®šäºæœåŠ¡å™¨çš„é€‰é¡¹ï¼š -s, --server åœ¨æœåŠ¡å™¨æ¨¡å¼ä¸‹è¿è¡Œ -U, --single_udp åœ¨å•çº¿ç¨‹ UDP æ¨¡å¼ä¸‹è¿è¡Œ -D, --daemon å°†æœåŠ¡å™¨ä½œä¸ºå®ˆæŠ¤ç¨‹åºè¿è¡Œ ç‰¹å®šäºå®¢æˆ·ç«¯çš„é€‰é¡¹ï¼š -b, --bandwidth n[KM] å°†ç›®æ ‡å¸¦å®½è®¾ç½®ä¸º n ä½/ç§’ï¼ˆé»˜è®¤ä¸º 1 Mbit/ç§’ï¼‰ã€‚æ­¤ è®¾ç½®éœ€è¦ UDP (-u)ã€‚ -c, --client &lt;host> åœ¨å®¢æˆ·ç«¯æ¨¡å¼ä¸‹è¿è¡Œï¼Œè¿æ¥åˆ° &lt;host> -d, --dualtest åŒæ—¶æ‰§è¡ŒåŒå‘æµ‹è¯• -n, --num n[KM] è¦ä¼ è¾“çš„å­—èŠ‚æ•°ï¼ˆè€Œä¸æ˜¯ -tï¼‰ -r, --tradeoff å•ç‹¬æ‰§è¡ŒåŒå‘æµ‹è¯• -t, --time n ä¼ è¾“æ—¶é—´ï¼Œä»¥ç§’ä¸ºå•ä½ï¼ˆé»˜è®¤ä¸º 10 ç§’ï¼‰ -F, --fileinput &lt;name> ä»æ–‡ä»¶è¾“å…¥è¦ä¼ è¾“çš„æ•°æ® -I, --stdin ä» stdin è¾“å…¥è¦ä¼ è¾“çš„æ•°æ® -L, --listenport n æ¥æ”¶å›åŒå‘æµ‹è¯•çš„ç«¯å£ -P, --parallel n è¦å¹¶è¡Œè¿è¡Œçš„å®¢æˆ·ç«¯çº¿ç¨‹æ•° -T, --ttl n å¤šæ’­çš„å­˜æ´»æ—¶é—´ï¼ˆé»˜è®¤ä¸º 1ï¼‰ -Z, --linux-congestion &lt;algo> è®¾ç½® TCP æ‹¥å¡æ§åˆ¶ç®—æ³•ï¼ˆä»…é™ Linuxï¼‰</p></div><footer class=entry-footer><span title='2022-02-10 11:04:49 +0800 CST'>February 10, 2022</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;207 words&nbsp;Â·&nbsp;langhaidian</footer><a class=entry-link aria-label="post link to iperfæµ‹è¯•å¸¦å®½" href=https://examplesite.com/posts/linux/iperf%E6%B5%8B%E8%AF%95%E5%B8%A6%E5%AE%BD/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://examplesite.com/page/2/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2024 <a href=https://examplesite.com/>langhaidian</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>