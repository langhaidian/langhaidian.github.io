<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Sed | langhaidian</title>
<meta name=keywords content><meta name=description content="ExampleSite description"><meta name=author content="Me"><link rel=canonical href=https://examplesite.com/tags/sed/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://examplesite.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://examplesite.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://examplesite.com/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://examplesite.com/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://examplesite.com/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://examplesite.com/tags/sed/index.xml><link rel=alternate hreflang=en href=https://examplesite.com/tags/sed/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://examplesite.com/tags/sed/"><meta property="og:site_name" content="langhaidian"><meta property="og:title" content="Sed"><meta property="og:description" content="ExampleSite description"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://examplesite.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://examplesite.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Sed"><meta name=twitter:description content="ExampleSite description"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://examplesite.com/ accesskey=h title="Home (Alt + H)"><img src=https://examplesite.com/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://examplesite.com/archives/ title=归档><span>归档</span></a></li><li><a href=https://examplesite.com/tags/ title=标签><span>标签</span></a></li><li><a href=https://examplesite.com/about/ title=关于><span>关于</span></a></li><li><a href=https://langhaidian.github.io/running_page title=running_page><span>running_page</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://examplesite.com/>Home</a>&nbsp;»&nbsp;<a href=https://examplesite.com/tags/>Tags</a></div><h1>Sed
<a href=/tags/sed/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>sed简单介绍</h2></header><div class=entry-content><p>语法 sed options...[script][inputfile] 第一部分 准备测试数据 cat &lt;&lt;EOF > sedtest.conf unix is great os. unix is opensource. unix is free os. learn operating system. unix linux which one you choose. unix is easy to learn.unix is a multiuser os.Learn unix .unix is a powerful. EOF 1. 替换每行第一个字符 $ sed 's/unix/linux/' sedtest.conf Output : linux is great os. unix is opensource. unix is free os. learn operating system. linux linux which one you choose. linux is easy to learn.unix is a multiuser os.Learn unix .unix is a powerful. 2. 替换每行第二个字符 $ sed 's/unix/linux/2' sedtest.conf Output : unix is great os. linux is opensource. unix is free os. learn operating system. unix linux which one you choose. unix is easy to learn.linux is a multiuser os.Learn unix .unix is a powerful. 3. 替换每行所有字符 $ sed 's/unix/linux/g' sedtest.conf Output : linux is great os. linux is opensource. linux is free os. learn operating system. linux linux which one you choose. linux is easy to learn.linux is a multiuser os.Learn linux .linux is a powerful. 4. 替换每行第三个开始的字符 $ sed 's/unix/linux/3g' sedtest.conf Output : unix is great os. unix is opensource. linux is free os. learn operating system. unix linux which one you choose. unix is easy to learn.unix is a multiuser os.Learn linux .linux is a powerful. 5. 字符分割加符号 $ echo "Welcome To The Geek Stuff" | sed 's/\(\b[A-Z]\)/\(\1\)/g' Output : (W)elcome (T)o (T)he (G)eek (S)tuff 6. 替换第几行的第一个字符(第三行) $ sed '3 s/unix/linux' sedtest.conf Output : unix is great os. unix is opensource. unix is free os. learn operating system. linux linux which one you choose. unix is easy to learn.unix is a multiuser os.Learn unix .unix is a powerful. 7. 显示被替换的行内容(被替换的显示双行，没有替换的显示原始数据) $ sed 's/unix/linux/p' sedtest.conf Output : linux is great os. unix is opensource. unix is free os. linux is great os. unix is opensource. unix is free os. learn operating system. linux linux which one you choose. linux linux which one you choose. linux is easy to learn.unix is a multiuser os.Learn unix .unix is a powerful. linux is easy to learn.unix is a multiuser os.Learn unix .unix is a powerful. 8. 只显示被替换的内容 $ sed -n 's/unix/linux/p' sedtest.conf Output : linux is great os. unix is opensource. unix is free os. linux linux which one you choose. linux is easy to learn.unix is a multiuser os.Learn unix .unix is a powerful. 9. 替换给定行数字符 $ sed '1,3 s/unix/linux/' sedtest.conf Output : linux is great os. unix is opensource. unix is free os. learn operating system. linux linux which one you choose. unix is easy to learn.unix is a multiuser os.Learn unix .unix is a powerful. $ sed '2,$ s/unix/linux/' geekfile.txt Output : unix is great os. unix is opensource. unix is free os. learn operating system. linux linux which one you choose. linux is easy to learn.unix is a multiuser os.Learn unix .unix is a powerful *** $ 代表文件最后一行内容 *** 10. 删除行内容 语法：$ sed 'nd' filename.txt 例子：$ sed '5d' filename.txt $ sed '$d' filename.txt //删除最后一行内容 $ sed 'x,yd' filename.txt //删除x到y之间行内容 sed '3,6d' filename.txt $ sed 'nth,$d' filename.txt // 删除第几行到最后一行 sed '12,$d' filename.txt $ sed '/pattern/d' filename.txt //删除匹配到行 sed '/abc/d' filename.txt 第二部分 准备测试数据 cat &lt;&lt;EOF > sedtest.txt life isn't meant to be easy, life is meant to be lived. Try to learn & understand something new everyday in life. Respect everyone & most important love everyone. Don’t hesitate to ask for love & don’t hesitate to show love too. Life is too short to be shy. In life, experience will help you differentiating right from wrong. EOF 文件间距处理 1. 每行最后插入一个空白行 $ sed G sedtest.txt Output: life isn't meant to be easy, life is meant to be lived. Try to learn & understand something new everyday in life. Respect everyone & most important love everyone. Don’t hesitate to ask for love & don’t hesitate to show love too. Life is too short to be shy. In life, experience will help you differentiating right from wrong. 2. 插入2行空白行 sed 'G;G' sedtest.txt 3. 删除空白行，在每行后面插入空白行 sed '/^$/d;G' sedtest.txt 4. 在匹配行上面插入一条黑线(匹配love) sed '/love/{x;p;x;}' sedtest.txt 5. 在匹配行下面插入空白行(匹配love) sed '/love/G' sedtest.txt 6. 在每行左边插入5个空格 sed 's/^/ /' sedtest.txt 编号处理 1. 每一行进行编号(左对齐)，\t为数字跟语句之间的制表符 sed = a.txt | sed 'N;s/\n/\t' 2. 每行插入编号(数字左边，右对齐)，类似于cat -n filename 增加编号效果 sed '/./=' a.txt | sed 'N;s/^/ ;s/*\(.\{4,\}\)\n/\1 /' 3. 不为空行进行编号 sed '/./=' a.txt | sed '/./N; s/\n/ /' 删除行 1. 删除指定行数 sed '5d' a.txt //删除第五行 2. 删除最后一行 sed '$d' a.txt //$ 代表最后一行 3. 删除指定范围行数内容 sed '3,5d' a.txt //删除第3-5行内容 4.删除置指定行数到最后一行 sed '2,$d' a.txt //第二行到最后一行 5. 删除匹配内容行内容 sed '/life/d' a.txt 6. 删除从第n行开始的2行内容 sed '3~2d' a.txt 7. 删除匹配内容及其后的两行 sed '/easy/,+2d' a.txt 8. 删除空白行 sed '^$/d' a.txt 9. 删除空白行及#开始内容 sed -i '/^#/d;/^$/d' a.txt 查看打印文件 1. 查看指定范围行数内容 sed -n '2,5p' a.txt 2. 查看指定范围外内容 sed '2,4d' a.txt 3. 查看文件第几行 sed -n '4'p a.txt //第4行内容 4. 查看指定范围内内容 sed -n '4,6'p a.txt 5. 查看最后一行内容 sed -n '$'p a.txt 6. 查看指定行术到最后一行内容 sed -n '3,$'p a.txt //第三行到最后一行 7 打印匹配内容行内容 sed -n /every/p a.txt 8. 打印匹配内容到到第n行 sed -n '/everyone/,5p' a.txt //从匹配行打印到第5行 9. 打印从第x行开始直到匹配的行内容 sed -n ‘x,/pattern/p’ filename sed -n '1,/everyone/p' a.txt 10. 打印匹配的行直到第x行 sed -n '/pattern/,+xp' filename sde -n '/learn/,+2p' a.txt 替换命令 1. 替换第一次出现的内容 sed 's/life/leaves/' a.txt 2. 替换一行中第x次出现内容 sed 's/to/two/2' a.txt 3. 替换所有内容 sed 's/life/learn/g' a.txt 4. 替换从第x开始的字符 sed 's/to/TWO/2g' a.txt 5. 替换第x行内容 sed '3 s/every/each/' a.txt sed '3 s/every/each/p' a.txt //打印 6. 替换指定范围内行内容 sed '2,5 s/to/TWO/' a.txt 7. 替换内容忽略大小写 sed 's/life/Love/i' a.txt sed 's/[Ll]ife/Love/g' a.txt //匹配life、Life替换内容 8. 使用一个空格替换所有 sed 's/ */ /g' filename 9. 使用一种匹配模式替换另一个内容 Syntax: sed ‘/followed_pattern/ s/old_pattern/new_pattern/’ filename sed '/is/ s/live/love' a.txt //匹配第一个内容去替换 10. 除过第x行 sed -i '5!s/life/love' a.txt //第5行除过</p></div><footer class=entry-footer><span title='2022-02-10 11:04:49 +0800 CST'>February 10, 2022</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;901 words&nbsp;·&nbsp;langhaidian</footer><a class=entry-link aria-label="post link to sed简单介绍" href=https://examplesite.com/posts/linux/sed/></a></article></main><footer class=footer><span>&copy; 2024 <a href=https://examplesite.com/>langhaidian</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>